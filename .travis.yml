language: cpp
sudo: false
os:
  - linux
  - osx
compiler:
  - clang
  - gcc
matrix:
  exclude:
    - os: osx
    - compiler: gcc

before_install:
  - cmake --version

script:
  - mkdir build
  - cd build
  - CFLAGS="-g -O2 -Wall -Werror" 
  - cmake -G "Unix Makefiles" -DCMAKE_BUILD_TYPE:STRING=Debug ..
  - make
  - make ARGS='-V -j3' test
